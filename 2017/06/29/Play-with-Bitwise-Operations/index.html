<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Play with Bitwise Operations | Shulun&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="I want to write a quick summary (with examples) of some bitwise operations I have learnt from another article (Reference here). I have included some common use of these bitwise operations and put toge">
<meta property="og:type" content="article">
<meta property="og:title" content="Play with Bitwise Operations">
<meta property="og:url" content="https://shulun.github.io/blog/2017/06/29/Play-with-Bitwise-Operations/index.html">
<meta property="og:site_name" content="Shulun's Blog">
<meta property="og:description" content="I want to write a quick summary (with examples) of some bitwise operations I have learnt from another article (Reference here). I have included some common use of these bitwise operations and put toge">
<meta property="og:updated_time" content="2017-06-29T07:03:04.196Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Play with Bitwise Operations">
<meta name="twitter:description" content="I want to write a quick summary (with examples) of some bitwise operations I have learnt from another article (Reference here). I have included some common use of these bitwise operations and put toge">
  
    <link rel="alternate" href="/atom.xml" title="Shulun&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/blog/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/blog/" id="logo">Shulun&#39;s Blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/blog/">Home</a>
        
          <a class="main-nav-link" href="/blog/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://shulun.github.io/blog"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Play-with-Bitwise-Operations" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2017/06/29/Play-with-Bitwise-Operations/" class="article-date">
  <time datetime="2017-06-29T07:03:04.000Z" itemprop="datePublished">2017-06-29</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Play with Bitwise Operations
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>I want to write a quick summary (with examples) of some bitwise operations I have learnt from another article <a href="https://www.hackerearth.com/practice/notes/fun-with-bits-print-all-subsets-of-a-set/" target="_blank" rel="external">(Reference here)</a>. I have included some common use of these bitwise operations and put together some examples to illustrate these ideas. Finally, I have presented an application of some of the bitwise operations here. This post is mostly for my own record of studying. I hope you will enjoy the contents here too! Have fun and keep coding!</p>
<a id="more"></a>
<h2 id="Bitwise-Logic"><a href="#Bitwise-Logic" class="headerlink" title="Bitwise Logic"></a>Bitwise Logic</h2><hr>
<table>
<thead>
<tr>
<th>x</th>
<th style="text-align:center">y</th>
<th style="text-align:center">AND</th>
<th style="text-align:center">OR</th>
<th style="text-align:center">XOR</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td>1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td>0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td>1</td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
</tr>
</tbody>
</table>
<h2 id="Bit-Masking"><a href="#Bit-Masking" class="headerlink" title="Bit Masking"></a>Bit Masking</h2><hr>
<h4 id="Hide-bit-values"><a href="#Hide-bit-values" class="headerlink" title="Hide bit values:"></a>Hide bit values:</h4><ol>
<li><p>num OR with 1 –&gt; num will always be 1</p>
</li>
<li><p>num AND with 0 –&gt; num will always be 0</p>
</li>
</ol>
<p><u><strong>Some useful bitwise operations with examples:</strong></u></p>
<ol>
<li><p><em>Multiply</em> a number by 2 –&gt; <strong>Left shift the number by 1</strong>:</p>
<p>$$<br>   exp: 5\ (00000101)\ –&gt; 10\ (00001010)<br>$$</p>
</li>
<li><p>Divide a number by 2 –&gt; <strong>Right shift the number by 1</strong>:<br>$$ $$</p>
</li>
<li><p>Powers of 2 –&gt; <strong>Right shift 1 by (exponent)</strong>:</p>
<p>$$<br>  exp: 4 = 1 \times 2 \times 2 = 2^2,\ 8 = 1 \times 2 \times 2 \times 2 = 2^3<br>$$</p>
</li>
<li><p>Check if number is power of 2 –&gt; $\textbf{(n&amp;(n-1) == 0)}$:</p>
<p>$$16\ (00010000) \\ 15\ (00001111)$$</p>
</li>
<li><p>Decimal to binary –&gt; <strong>Loop and number&amp;1<strong>:</strong></strong></p>
<p>Right shift the decimal number by 1 each time (first time do AND first) and AND that with 1, record it down. Print all the recorded digits in reversed order to get the binary representation of the decimal number.</p>
</li>
<li><p>Check even/odd numbers –&gt; <strong>number AND with 1</strong>:</p>
 <figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> n&amp;<span class="number">1</span> == <span class="number">0</span>:</div><div class="line">    n <span class="keyword">is</span> EVEN</div><div class="line"><span class="keyword">else</span>:</div><div class="line">    n <span class="keyword">is</span> ODD</div></pre></td></tr></table></figure>
<p>&#13;</p>
</li>
<li><p>Check $x_{th}$ bit from right in number n –&gt; <storng>AND with 1 shifted to the left by $x$ bits</storng></p>
 <figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> n&amp;(<span class="number">1</span>&lt;&lt;x<span class="number">-1</span>) == <span class="number">0</span>:</div><div class="line">    RESET</div><div class="line"><span class="keyword">else</span>:</div><div class="line">    SET</div></pre></td></tr></table></figure>
<p>Arithmetic operators have higher priority than bitwise operator. $x-1$ will be evaluated before $&gt;&gt;$.</p>
</li>
<li><p>Set the $x_th$ bit in the number –&gt; <strong>OR with 1 shifted to $x_th$ bit</strong>:</p>
 <figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">n = n | (<span class="number">1</span>&lt;&lt;x<span class="number">-1</span>)</div></pre></td></tr></table></figure>
<p>&#13;</p>
</li>
<li><p>Toggle the $x_th$ bit in the number –&gt; <strong>XOR with 1 shifted to $x_th$ bit</strong></p>
 <figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">n = n ^ (<span class="number">1</span>&lt;&lt;x<span class="number">-1</span>)</div></pre></td></tr></table></figure>
<p>&#13;</p>
</li>
<li><p>Reset the rightmost bit in a number n:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">n = n &amp; (n<span class="number">-1</span>)</div></pre></td></tr></table></figure>
<p>&#13;</p>
</li>
<li><p>Check the bit-length:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">l = <span class="number">0</span></div><div class="line"><span class="keyword">while</span> n:</div><div class="line">    l += <span class="number">1</span></div><div class="line">    n &gt;&gt;= <span class="number">1</span></div></pre></td></tr></table></figure>
<p>&#13;</p>
</li>
<li><p>Count the number of set bits:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">cnt = <span class="number">0</span></div><div class="line"><span class="keyword">while</span> n:</div><div class="line">    cnt += <span class="number">1</span></div><div class="line">    n &amp;= (n<span class="number">-1</span>)</div></pre></td></tr></table></figure>
<p>&#13;</p>
</li>
</ol>
<h2 id="Application"><a href="#Application" class="headerlink" title="Application"></a>Application</h2><hr>
<p>Finally, an example of getting all the subsets/sublists of a set/list using bitwise operation. Here is a simple example:</p>
<p>In this example, we are trying to get all the sublists of a list  <code>[0, 1, 2]</code>, implemeting this in Python:<br>    <figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">n = <span class="number">3</span></div><div class="line">[[j <span class="keyword">for</span> j <span class="keyword">in</span> range(n) <span class="keyword">if</span> (i&gt;&gt;j)&amp;<span class="number">1</span>] <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>**n)]</div></pre></td></tr></table></figure></p>
<p>There are three numbers in the original list and each number can only have two states: in or not in the list. Therefore, there should be $2^3 = 8$ sublists of the original list. Let me further illustrate this idea with a table, each table cell value is the result of <code>(row&gt;&gt;col)&amp;1</code>:</p>
<table>
<thead>
<tr>
<th>&gt;&gt;</th>
<th style="text-align:center">0</th>
<th style="text-align:center">1</th>
<th style="text-align:center">2</th>
<th style="text-align:center">3</th>
<th style="text-align:center">4</th>
<th style="text-align:center">5</th>
<th style="text-align:center">6</th>
<th style="text-align:center">7</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td>1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td>2</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
</tr>
</tbody>
</table>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://shulun.github.io/blog/blog/2017/06/29/Play-with-Bitwise-Operations/" data-id="cj4i4ypi40001gdrc47orcq0j" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/blog/2017/06/29/hello-world/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Hello World
        
      </div>
    </a>
  
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2017/06/">June 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>

          <li>
            <a href="/blog/2017/06/29/Play-with-Bitwise-Operations/">Play with Bitwise Operations</a>
          </li>
        
          <li>
            <a href="/blog/2017/06/29/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 Shulun Chen<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/blog/" class="mobile-nav-link">Home</a>
  
    <a href="/blog/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/blog/fancybox/jquery.fancybox.css">
  <script src="/blog/fancybox/jquery.fancybox.pack.js"></script>


<script src="/blog/js/script.js"></script>

  </div>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</body>
</html>